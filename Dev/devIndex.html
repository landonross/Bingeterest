<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <input type="text" id="ratingInput" placeholder="TV-G TV-PG TV-14 TV-MA">
    <button id="submit">Submit</button>
    <div class="imageDiv">
        <img src="">
    </div>
    <div id="message"></div>
    <div>
        <select id="genraDropDown" style = "width: 300px;">
            </select>
    </div>
    <ul id="myList"></ul>


    <!-- <script src="http://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
        crossorigin="anonymous"></script> -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- <script src="JS/jquery.twbsPagination.js"></script> -->
    
    <script>

        var TMDBtvqueryURL = "";
        var TMDBresponseTV = "";
        var genreList =[];
        var TMDBnameid = [];
        
        $(document).ready()
        {
            buildQueryTMDB()
            // for (let i = 0; i < genreList.length; i++) {
            //         // var list = $("#myList");
            //         var TMDBid = genreList[i].id;
            //         var TMDBname = genreList[i].name;
            //         // var TMDBlist = $("<li></li>").text(TMDBid + ":  "+ TMDBname)
            //         // var TMDBid = genresList[i].id;
            //         // var TMDBname = genresList[i].name;
            //         $("#myList").append('<li>' + TMDBid + ":  "+ TMDBname + '</li>');
            //         // list.append(TMDBlist);
                    
            //     }


        };
        function buildQueryTMDB() {
            // Set the API key
            var APIKey = "7c2207b398a6d440727425799edd2f6f";

            // Grab text the user typed into the search input, add to the queryParams object
            // var ratingOptions = [
            // {
            // "results": [
            // {
            // "iso_3166_1": "US",
            // "rating": "TV-MA"
            // },
            // {
            // "iso_3166_1": "CA",
            // "rating": "18+"
            // },

            // ],
            // "id": 1399
            // }
            // ]
            var queryParams = "page=1";

            // queryURL query the API
            // TMDBtvqueryURL = "https://api.themoviedb.org/3/tv/popular?api_key=" + APIKey + "&language=en-US&" + queryParams;
            // https://api.themoviedb.org/3/genre/movie/list?api_key=<<api_key>>&language=en-US
            // https://api.themoviedb.org/3/tv/{tv_id}?api_key=<<api_key>>&language=en-US
            // TMDBtvqueryURL = "https://api.themoviedb.org/3/tv/TV-14/content_ratings?api_key=7c2207b398a6d440727425799edd2f6f&language=en-US";
            // TMDBtvqueryURL = "https://api.themoviedb.org/3/tv/popular?api_key=7c2207b398a6d440727425799edd2f6f&language=en-US&page=1";
            // TMDBtvqueryURL = "https://api.themoviedb.org/3/genre/tv/list?api_key=7c2207b398a6d440727425799edd2f6f&language=en-US"
            // TMDBtvqueryURL = "https://api.themoviedb.org/3/tv/popular?api_key=7c2207b398a6d440727425799edd2f6f&language=en-US&page=1"
            // TMDBtvqueryURL = "https://api.themoviedb.org/3/tv/69050/content_ratings?api_key=7c2207b398a6d440727425799edd2f6f&language=en-US&page=1"
            TMDBtvqueryURL = "https://api.themoviedb.org/3/genre/tv/list?api_key=7c2207b398a6d440727425799edd2f6f&language=en-US&page=1"

            // UVURLquery()
            return TMDBtvqueryURL;
        };

        function popularTVURLquery() {
            $.ajax({
                url: TMDBtvqueryURL,
                data: { "api_key": "7c2207b398a6d440727425799edd2f6f" },
                header: "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3YzIyMDdiMzk4YTZkNDQwNzI3NDI1Nzk5ZWRkMmY2ZiIsInN1YiI6IjYwMGM2Y2RmYzg2YjNhMDA0MWJmMWU5MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.dJyUUTkXtbl96uQ3VP8STmbmtCvYBt-RrCuyo2O91og",
                dataType: "json",
                method: "GET",
            }).then(function (TMDBresponseTV) {
                console.log(TMDBresponseTV);

                var TMBgenre = TMDBresponseTV.genres
                for (let i = 0; i < TMDBresponseTV.genres.length; i++) {
                    genreList.push(TMBgenre[i]);
                    
                }
                // TMDBresponseTV.push(genreList);

                for (let i = 0; i < genreList.length; i++) {
                    var TMDBid = genreList[i].id;
                    var TMDBname = genreList[i].name;
                    var idName = TMDBid + ":  " + TMDBname;
                    TMDBnameid.push(idName);
                    $("#myList").append('<li>' + idName + '</li>');
                    $("#genraDropDown").append("<option id=dd" + i + " value=" + i + "></option>")
                    

                }

                for (let i = 0; i < genreList.length; i++) {
                    $("#dd" + i ).text(TMDBnameid[i]);
                    
                }
                




            })
        }
        popularTVURLquery();




    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="http://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

</body>

</html>